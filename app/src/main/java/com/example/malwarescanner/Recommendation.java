package com.example.malwarescanner;

import androidx.appcompat.app.AppCompatActivity;

import android.content.Intent;
import android.os.Bundle;
import android.view.View;
import android.webkit.WebSettings;
import android.webkit.WebView;
import android.widget.TextView;

public class Recommendation extends AppCompatActivity {
    private TextView textView;
    private TextView t3,t4;
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_recommendation);
        textView = findViewById(R.id.textMessage);
        Bundle bundle = getIntent().getExtras();
        String value = bundle.getString("type");
        t3 = findViewById(R.id.r3);
        t4 = findViewById(R.id.r4);
        if(value.equals("Adware")) {
            t3.setText("- Remove redirects and pop-up ads from browser");
            String myYouTubeVideoUrl = "https://www.youtube.com/embed/nUHkbvBsEz0";

            String dataUrl =
                    "<html>" +
                            "<body>" +
                            "<iframe width=\"960\" height=\"530\" src=\""+myYouTubeVideoUrl+"\" frameborder=\"0\" allowfullscreen/>" +
                            "</body>" +
                            "</html>";

            WebView myWebView = findViewById(R.id.mWebView);
            myWebView.setVisibility(View.VISIBLE);
            myWebView.setBackgroundColor(0);
            WebSettings webSettings = myWebView.getSettings();
            webSettings.setJavaScriptEnabled(true);
            myWebView.getSettings().setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN);
            myWebView.getSettings().setLoadWithOverviewMode(true);
            myWebView.getSettings().setUseWideViewPort(true);
            myWebView.loadData(dataUrl, "text/html", "utf-8");
        }
        else if(value.equals("Banking")) {
            t3.setText("- Review your bank logs and transactions");
            t4.setVisibility(View.VISIBLE);
            t4.setText("- Use 2FA whenever the option is available");
        }
        else if(value.equals("Riskware")) {
            t3.setText("- Limit the programs that run with admin level permissions");
            String myYouTubeVideoUrl = "https://www.youtube.com/embed/wjkH-22PTEo";

            String dataUrl =
                    "<html>" +
                            "<body>" +
                            "<iframe width=\"960\" height=\"530\" src=\""+myYouTubeVideoUrl+"\" frameborder=\"0\" allowfullscreen/>" +
                            "</body>" +
                            "</html>";

            WebView myWebView = findViewById(R.id.mWebView);
            myWebView.setVisibility(View.VISIBLE);
            myWebView.setBackgroundColor(0);
            WebSettings webSettings = myWebView.getSettings();
            webSettings.setJavaScriptEnabled(true);
            myWebView.getSettings().setLayoutAlgorithm(WebSettings.LayoutAlgorithm.SINGLE_COLUMN);
            myWebView.getSettings().setLoadWithOverviewMode(true);
            myWebView.getSettings().setUseWideViewPort(true);
            myWebView.loadData(dataUrl, "text/html", "utf-8");
        }
        else if(value.equals("SMS")) {
            t4.setVisibility(View.VISIBLE);
            t3.setText("- Review your phone bills");
            t4.setText("- Check your SMS log");
        }
    }
}